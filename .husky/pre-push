#!/bin/sh

echo "🔄 Running pre-push hooks..."

# Run the version update and sync to Vercel script
sh scripts/update-version.sh

# Check if the script failed
if [ $? -ne 0 ]; then
  echo "❌ Version update or Vercel sync failed. Push aborted."
  exit 1
fi

# If no error, proceed with git push
echo "✅ Version updated and synced to Vercel. Proceeding with push."
git push origin main
